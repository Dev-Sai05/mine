Got it üëç
You have:
Service name: vc-in055a-report
Port: 8080
Ingress URL: IN055Areport
Calling service: in005a
I‚Äôll explain clearly and step-by-step how you should connect, and which way is best.
1Ô∏è‚É£ BEST WAY (Inside Kubernetes ‚Äì Service-to-Service)
‚úÖ Use Kubernetes Service Name + Port
Since both services are inside the cluster, you should NOT use Ingress.
üëâ Call like this:
Copy code
Text
http://vc-in055a-report:8080
Example (from in005a)
Copy code
Properties
report.service.url=http://vc-in055a-report:8080
Copy code
Java
String url = reportServiceUrl + "/generateReport";
restTemplate.postForObject(url, request, String.class);
üîπ Why this is BEST
Faster (no ingress hop)
Auto load-balancing
Works even if pods restart
Clean microservice design
üìå Ingress is only for external traffic, not internal service calls.
2Ô∏è‚É£ Using Namespace (If services are in different namespaces)
If:
in005a ‚Üí namespace: app-ns
vc-in055a-report ‚Üí namespace: report-ns
Then use fully qualified service name:
Copy code
Text
http://vc-in055a-report.report-ns.svc.cluster.local:8080
Most of the time, this is not needed if both are in the same namespace.
3Ô∏è‚É£ Using Ingress URL (NOT Recommended ‚Äì but works)
Your ingress name:
Copy code
Text
IN055Areport
Then call:
Copy code
Text
http://IN055Areport/generateReport
‚ö†Ô∏è Problems with this approach
Slower
Extra ingress load
TLS / auth complications
Breaks internal microservice best practices
Use this only if:
in005a is outside Kubernetes
Or security mandates ingress-only access
4Ô∏è‚É£ Environment Variable Approach (Clean Config)
Deployment YAML
Copy code
Yaml
env:
  - name: REPORT_SERVICE_URL
    value: http://vc-in055a-report:8080
application.properties
Copy code
Properties
report.service.url=${REPORT_SERVICE_URL}
5Ô∏è‚É£ Quick Decision Table
Scenario
What to Use
Both services inside K8s
Service name + port ‚≠ê
Different namespaces
FQDN
External caller
Ingress
High performance
Service name
‚úÖ FINAL ANSWER (For Your Setup)
Since you have:
Kubernetes
Service name available
Same functionality
üëâ Use this from in005a:
Copy code
Text
http://vc-in055a-report:8080
‚ùå Do NOT use ingress URL for internal calls
If you want, I can:
Validate your Service YAML
Show curl test inside pod
Explain DNS resolution in Kubernetes
Suggest async triggering (Kafka / MQ) for report generation
Just tell me üëç